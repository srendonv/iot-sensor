{"ast":null,"code":"import _regeneratorRuntime from \"/Users/santiago/Documents/tulipan1637/iot-sensor/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/santiago/Documents/tulipan1637/iot-sensor/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/santiago/Documents/tulipan1637/iot-sensor/app/src/App.js\";\nimport React, { useEffect } from 'react';\nimport { Table } from './features/table/Table';\nimport axios from 'axios';\nimport './App.css'; // import 'bootstrap/dist/css/bootstrap.min.css';\n\nimport { setSensorData, selectTable } from './features/table/tableSlice';\nimport { useSelector, useDispatch } from 'react-redux';\n\nfunction App() {\n  var storeData = useSelector(selectTable);\n  var dispatch = useDispatch();\n\n  var fetchData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response, SensorData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get('http://localhost:5000/listings');\n\n            case 3:\n              response = _context.sent;\n              _context.next = 6;\n              return response.data;\n\n            case 6:\n              SensorData = _context.sent;\n              dispatch(setSensorData(SensorData));\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0.stack);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function fetchData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchData();\n  }, []);\n  var columns = React.useMemo(function () {\n    return [{\n      Header: 'Name',\n      accessor: 'name'\n    }, {\n      Header: 'Long',\n      accessor: 'long'\n    }, {\n      Header: 'Lat',\n      accessor: 'lat'\n    }, {\n      Header: 'Temperature',\n      accessor: 'temperature'\n    }, {\n      Header: 'Humidity',\n      accessor: 'humidity'\n    }, {\n      Header: 'pH',\n      accessor: 'pH'\n    }, {\n      Header: 'Pressure',\n      accessor: 'pressure'\n    }, {\n      Header: 'CO2',\n      accessor: 'co2'\n    }];\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    columns: columns,\n    data: storeData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/santiago/Documents/tulipan1637/iot-sensor/app/src/App.js"],"names":["React","useEffect","Table","axios","setSensorData","selectTable","useSelector","useDispatch","App","storeData","dispatch","fetchData","get","response","data","SensorData","console","log","stack","columns","useMemo","Header","accessor"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,KAAR,QAAoB,wBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP,C,CACA;;AAEA,SAAQC,aAAR,EAAuBC,WAAvB,QAAyC,6BAAzC;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;;AAGA,SAASC,GAAT,GAAe;AAEb,MAAMC,SAAS,GAAGH,WAAW,CAACD,WAAD,CAA7B;AACA,MAAMK,QAAQ,GAAGH,WAAW,EAA5B;;AAEA,MAAMI,SAAS;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAESR,KAAK,CAACS,GAAN,CAAU,gCAAV,CAFT;;AAAA;AAERC,cAAAA,QAFQ;AAAA;AAAA,qBAGWA,QAAQ,CAACC,IAHpB;;AAAA;AAGRC,cAAAA,UAHQ;AAIdL,cAAAA,QAAQ,CAACN,aAAa,CAACW,UAAD,CAAd,CAAR;AAJc;AAAA;;AAAA;AAAA;AAAA;AAMdC,cAAAA,OAAO,CAACC,GAAR,CAAY,YAAEC,KAAd;;AANc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATP,SAAS;AAAA;AAAA;AAAA,KAAf;;AAUAV,EAAAA,SAAS,CAAE,YAAK;AAACU,IAAAA,SAAS;AAAG,GAApB,EAAqB,EAArB,CAAT;AAEA,MAAMQ,OAAO,GAAGnB,KAAK,CAACoB,OAAN,CACd;AAAA,WAAM,CACJ;AACEC,MAAAA,MAAM,EAAE,MADV;AAEEC,MAAAA,QAAQ,EAAE;AAFZ,KADI,EAKJ;AACED,MAAAA,MAAM,EAAE,MADV;AAEEC,MAAAA,QAAQ,EAAE;AAFZ,KALI,EASJ;AACED,MAAAA,MAAM,EAAE,KADV;AAEEC,MAAAA,QAAQ,EAAE;AAFZ,KATI,EAaJ;AACED,MAAAA,MAAM,EAAE,aADV;AAEEC,MAAAA,QAAQ,EAAE;AAFZ,KAbI,EAiBJ;AACED,MAAAA,MAAM,EAAE,UADV;AAEEC,MAAAA,QAAQ,EAAE;AAFZ,KAjBI,EAqBJ;AACED,MAAAA,MAAM,EAAE,IADV;AAEEC,MAAAA,QAAQ,EAAE;AAFZ,KArBI,EAyBJ;AACED,MAAAA,MAAM,EAAE,UADV;AAEEC,MAAAA,QAAQ,EAAE;AAFZ,KAzBI,EA6BJ;AACED,MAAAA,MAAM,EAAE,KADV;AAEEC,MAAAA,QAAQ,EAAE;AAFZ,KA7BI,CAAN;AAAA,GADc,EAmCd,EAnCc,CAAhB;AAsCA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,OAAO,EAAEH,OAAhB;AAAyB,IAAA,IAAI,EAAEV,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF;AAOD;;AAED,eAAeD,GAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport {Table} from './features/table/Table';\nimport axios from 'axios';\nimport './App.css';\n// import 'bootstrap/dist/css/bootstrap.min.css';\n\nimport {setSensorData, selectTable} from './features/table/tableSlice';\nimport {useSelector, useDispatch} from 'react-redux';\n\n\nfunction App() {\n\n  const storeData = useSelector(selectTable);\n  const dispatch = useDispatch();\n\n  const fetchData = async ()=>{\n    try{\n      const response = await axios.get('http://localhost:5000/listings');\n      const SensorData = await response.data;\n      dispatch(setSensorData(SensorData));\n    }catch(e){\n      console.log(e.stack);\n    }\n  }\n\n  useEffect( ()=> {fetchData()},[]);\n\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: 'Name',\n        accessor: 'name',\n      },\n      {\n        Header: 'Long',\n        accessor: 'long',\n      },\n      {\n        Header: 'Lat',\n        accessor: 'lat',\n      },\n      {\n        Header: 'Temperature',\n        accessor: 'temperature',\n      },\n      {\n        Header: 'Humidity',\n        accessor: 'humidity',\n      },\n      {\n        Header: 'pH',\n        accessor: 'pH',\n      },\n      {\n        Header: 'Pressure',\n        accessor: 'pressure',\n      },\n      {\n        Header: 'CO2',\n        accessor: 'co2',\n      }\n    ],\n    []\n  )\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Table columns={columns} data={storeData}/>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
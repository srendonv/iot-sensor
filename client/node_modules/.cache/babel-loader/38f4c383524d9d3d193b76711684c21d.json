{"ast":null,"code":"// import React from 'react';\nasync function seedDB() {\n  // Connection URL\n  const uri = \"mongodb://127.0.0.1:27017\";\n  const client = new MongoClient(uri, {\n    useNewUrlParser: true // useUnifiedTopology: true,\n\n  });\n\n  try {\n    await client.connect();\n    console.log(\"Connected correctly to server\");\n    const collection = client.db(\"iot\").collection(\"sensor\");\n    await collection.drop(); // make a bunch of time series data\n\n    let timeSeriesData = [];\n\n    for (let i = 0; i < 5000; i++) {\n      const firstName = faker.name.firstName();\n      const lastName = faker.name.lastName();\n      let newDay = {\n        timestamp_day: faker.date.past(),\n        cat: faker.random.word(),\n        owner: {\n          email: faker.internet.email(firstName, lastName),\n          firstName,\n          lastName\n        },\n        events: []\n      };\n\n      for (let j = 0; j < randomIntFromInterval(1, 6); j++) {\n        let newEvent = {\n          timestamp_event: faker.date.past(),\n          weight: randomIntFromInterval(14, 16)\n        };\n        newDay.events.push(newEvent);\n      }\n\n      timeSeriesData.push(newDay);\n    }\n\n    await collection.insertMany(timeSeriesData);\n    console.log(\"Database seeded! :)\");\n    client.close();\n  } catch (err) {\n    console.log(err.stack);\n  }\n}\n\nexport default seedDB;","map":{"version":3,"sources":["/Users/santiago/Documents/tulipan1637/iot-sensor/src/models/sensor.js"],"names":["seedDB","uri","client","MongoClient","useNewUrlParser","connect","console","log","collection","db","drop","timeSeriesData","i","firstName","faker","name","lastName","newDay","timestamp_day","date","past","cat","random","word","owner","email","internet","events","j","randomIntFromInterval","newEvent","timestamp_event","weight","push","insertMany","close","err","stack"],"mappings":"AAAA;AAEA,eAAeA,MAAf,GAAwB;AACpB;AACA,QAAMC,GAAG,GAAG,2BAAZ;AAEA,QAAMC,MAAM,GAAG,IAAIC,WAAJ,CAAgBF,GAAhB,EAAqB;AAChCG,IAAAA,eAAe,EAAE,IADe,CAEhC;;AAFgC,GAArB,CAAf;;AAKA,MAAI;AACA,UAAMF,MAAM,CAACG,OAAP,EAAN;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AAEA,UAAMC,UAAU,GAAGN,MAAM,CAACO,EAAP,CAAU,KAAV,EAAiBD,UAAjB,CAA4B,QAA5B,CAAnB;AAGA,UAAMA,UAAU,CAACE,IAAX,EAAN,CAPA,CASA;;AACA,QAAIC,cAAc,GAAG,EAArB;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,IAApB,EAA0BA,CAAC,EAA3B,EAA+B;AAC3B,YAAMC,SAAS,GAAGC,KAAK,CAACC,IAAN,CAAWF,SAAX,EAAlB;AACA,YAAMG,QAAQ,GAAGF,KAAK,CAACC,IAAN,CAAWC,QAAX,EAAjB;AACA,UAAIC,MAAM,GAAG;AACTC,QAAAA,aAAa,EAAEJ,KAAK,CAACK,IAAN,CAAWC,IAAX,EADN;AAETC,QAAAA,GAAG,EAAEP,KAAK,CAACQ,MAAN,CAAaC,IAAb,EAFI;AAGTC,QAAAA,KAAK,EAAE;AACHC,UAAAA,KAAK,EAAEX,KAAK,CAACY,QAAN,CAAeD,KAAf,CAAqBZ,SAArB,EAAgCG,QAAhC,CADJ;AAEHH,UAAAA,SAFG;AAGHG,UAAAA;AAHG,SAHE;AAQTW,QAAAA,MAAM,EAAE;AARC,OAAb;;AAWA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,qBAAqB,CAAC,CAAD,EAAI,CAAJ,CAAzC,EAAiDD,CAAC,EAAlD,EAAsD;AAClD,YAAIE,QAAQ,GAAG;AACXC,UAAAA,eAAe,EAAEjB,KAAK,CAACK,IAAN,CAAWC,IAAX,EADN;AAEXY,UAAAA,MAAM,EAAEH,qBAAqB,CAAC,EAAD,EAAI,EAAJ;AAFlB,SAAf;AAIAZ,QAAAA,MAAM,CAACU,MAAP,CAAcM,IAAd,CAAmBH,QAAnB;AACH;;AACDnB,MAAAA,cAAc,CAACsB,IAAf,CAAoBhB,MAApB;AACH;;AACD,UAAMT,UAAU,CAAC0B,UAAX,CAAsBvB,cAAtB,CAAN;AAEAL,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAL,IAAAA,MAAM,CAACiC,KAAP;AACH,GAvCD,CAuCE,OAAOC,GAAP,EAAY;AACV9B,IAAAA,OAAO,CAACC,GAAR,CAAY6B,GAAG,CAACC,KAAhB;AACH;AACJ;;AAED,eAAerC,MAAf","sourcesContent":["// import React from 'react';\n\nasync function seedDB() {\n    // Connection URL\n    const uri = \"mongodb://127.0.0.1:27017\";\n\n    const client = new MongoClient(uri, {\n        useNewUrlParser: true,\n        // useUnifiedTopology: true,\n    });\n\n    try {\n        await client.connect();\n        console.log(\"Connected correctly to server\");\n\n        const collection = client.db(\"iot\").collection(\"sensor\");\n\n  \n        await collection.drop();\n\n        // make a bunch of time series data\n        let timeSeriesData = [];\n\n        for (let i = 0; i < 5000; i++) {\n            const firstName = faker.name.firstName();\n            const lastName = faker.name.lastName();\n            let newDay = {\n                timestamp_day: faker.date.past(),\n                cat: faker.random.word(),\n                owner: {\n                    email: faker.internet.email(firstName, lastName),\n                    firstName,\n                    lastName,\n                },\n                events: [],\n            };\n\n            for (let j = 0; j < randomIntFromInterval(1, 6); j++) {\n                let newEvent = {\n                    timestamp_event: faker.date.past(),\n                    weight: randomIntFromInterval(14,16),\n                }\n                newDay.events.push(newEvent);\n            }\n            timeSeriesData.push(newDay);\n        }\n        await collection.insertMany(timeSeriesData);\n\n        console.log(\"Database seeded! :)\");\n        client.close();\n    } catch (err) {\n        console.log(err.stack);\n    }\n}\n\nexport default seedDB;"]},"metadata":{},"sourceType":"module"}